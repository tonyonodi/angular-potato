"use strict";angular.module("potatoApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"PhotosCtrl"}).when("/photos/:photoId",{templateUrl:"views/photo-detail.html",controller:"PhotoDetailCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("potatoApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("potatoApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);var getUrl="https://floating-brook-4021.herokuapp.com",cleanseResponse,processJSON;processJSON=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(b=0;b<a.length;b++)c=a[b].link,d=a[b].date_taken,e=a[b].tags,c=c.split("/"),c=c[c.length-2],a[b].id=c,f=new Date(d),g=f.getDate(),g+=n[g]||"th",h=o[f.getMonth()],i=f.getFullYear(),j=f.getHours(),k=f.getMinutes(),l=g+" "+h+" "+i+" at "+j+":"+k,a[b].pretty_date_taken=l,m=e.split(" "),a[b].tags=m;return a},angular.module("potatoApp").controller("PhotosCtrl",["$scope","$http",function(a,b){b.get(getUrl).success(function(b){var c;a.rootURL="/angular-potato",c=processJSON(b.items),a.feedItems=c}).error(function(){console.log("ERROR")})}]),angular.module("potatoApp").controller("PhotoDetailCtrl",["$scope","$http","$routeParams",function(a,b,c){var d;d=function(a){return a.id==c.photoId?a:void 0},b.get(getUrl).success(function(b){var c,e;a.rootURL="/angular-potato",c=processJSON(b.items),e=c.filter(d),a.photo=e[0]}).error(function(){console.log("ERROR")})}]);